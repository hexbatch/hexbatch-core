openapi: 3.1.0
info:
  title: 'Hexbatch Core'
  version: '0.1'
paths:
  /api/v1/users/me:
    get:
      summary: 'This will show the user and default namespace details'
      description: 'Shows the logged in user'
      operationId: core.users.me
      responses:
        '200':
          description: 'This is you'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Me'
  /api/v1/users/login:
    post:
      operationId: core.users.login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginParams'
      responses:
        '200':
          description: 'Login returns a token'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
  /api/v1/users/register:
    post:
      operationId: core.users.register
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegistrationParams'
      responses:
        '201':
          description: 'Register with just a username and a password'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Me'
  /api/v1/users/logout:
    delete:
      summary: 'Logs the user out of all tokens (destroys all tokens)'
      operationId: core.users.logout
      responses:
        '200':
          description: 'All the tokens owned by the user were destroyed'
  /api/v1/users/auth/create:
    post:
      summary: 'Create a new token with optional lifetime set in seconds'
      description: 'Any json set in the body is converted to passthrough data, which is data associated with the logged in token'
      operationId: core.users.auth.create
      parameters:
        -
          name: seconds
          in: path
          description: 'determines seconds to live, optional'
          required: false
          schema:
            $ref: '#/components/schemas/hexbatch_seconds_to_live'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              description: 'Anything passed to the body is considered passthrough data'
              type:
                - object
                - 'null'
      responses:
        '201':
          description: 'Returns a new token set to that lifetime'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateTokenResponse'
  /api/v1/users/auth/passthrough:
    get:
      summary: 'Gets the passthrough data associated with this token used to authenticate this call'
      operationId: core.users.auth.passthrough
      responses:
        '200':
          description: 'Gets any immutable passthrough data stored when the token was created'
          content:
            application/json:
              schema:
                type:
                  - object
                  - 'null'
  /api/v1/users/auth/remove_current_token:
    delete:
      summary: 'Deletes the current token, other tokens not deleted'
      description: 'Allows for services to create extra tokens, use them, and then remove them'
      operationId: core.users.auth.remove_current_token
      responses:
        '204':
          description: 'Nothing returned'
  /api/v1/design/change_owner:
    post:
      summary: 'Changes the ownership of a type before its published.  '
      description: 'The owner ns can transfer this unpublished design to be owned by another namespace. Owners of subtypes can deny this change by listening to the type_owner_change event raised by this action'
      operationId: core.design.change_owner
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/promote_owner:
    post:
      summary: 'Changes the ownership of a type before its published. '
      description: 'The system can transfer this design to be managed by another namespace. No events are raised that can deny the change.'
      operationId: core.design.promote_owner
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/promote:
    post:
      summary: 'Makes a new design type with anyone as the owner '
      description: 'The system can make a new design and assign this to any owner. No events are raised'
      operationId: core.design.promote
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/purge:
    delete:
      summary: 'Deletes an unpublished type '
      description: 'The system can delete any design, owned by anyone, before publishing, without raising any events'
      operationId: core.design.purge
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/destroy:
    delete:
      summary: 'Deletes an unpublished type '
      description: 'A namespace can delete a new design, before publishing, without raising any events'
      operationId: core.design.destroy
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/create:
    post:
      summary: 'Makes a new design type '
      description: 'A namespace can make a new design, they are the owner. No events are raised'
      operationId: core.design.create
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/edit:
    patch:
      summary: 'Edits the name, final type, access '
      description: "The owner or their admin group can change, before publishing, the name of the type, final status and access level \nNo events are raised"
      operationId: core.design.edit
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/show:
    get:
      summary: 'Shows information about a type '
      description: "See details about a type in any state. Lists the attributes, event listeners, live requirements and live rules \nIf the design type is set to public access, then any namespace can use this to see the information. Otherwise only the members of the owner namepace can \nTo see more detail about any one of these, use the show api for that reference"
      operationId: core.design.show
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/list:
    get:
      summary: 'Lists all the designed owned or managed  '
      description: "See a list of all the designs this namespace either owns or has admin rights to. Once a type is published, it is not seen here\nCan see the name, uuid, the status and how many attributes, listeners, requirements and rules there are"
      operationId: core.design.list
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/show_attribute:
    get:
      summary: 'Information about a single attribute on a type  '
      description: "See information about an attribute. Will list the settings and bounds, will show parent, and status \nShows stats about its descendants\nif the type is marked as public, and the attribute is marked as public then any namespace can use this,  \notherwise the members of the owning namesapce can "
      operationId: core.design.show_attribute
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/destroy_attribute:
    delete:
      summary: 'Delete an attribute'
      description: "Destroys an attribute. Attributes cannot be deleted after a type is published \nRemoving design attributes does not generate any event"
      operationId: core.design.destroy_attribute
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/promote_attribute:
    post:
      summary: 'Creates a new attribute on a design for any design or namespace'
      description: "System can create a new attribute using any parent chain for any design owned by anyone \nThis does not generate any events"
      operationId: core.design.promote_attribute
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/create_attribute:
    post:
      summary: 'Creates a new attribute on a design'
      description: "Namespace admin group can create a new attribute using any parent chain for any design owned by anyone \nBut the design can only be published if the inheritance chain does not block this using the design_pending event"
      operationId: core.design.create_attribute
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/list_attributes:
    get:
      summary: 'Lists the attributes of a type  '
      description: "See a list of all the attributes the type uses\nShows information about its ancestors\nif the type is marked as private or the attribute is marked as private,\n then that attribute is not shown except to the members of the owning namesapce"
      operationId: core.design.list_attributes
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/set_attribute_location:
    patch:
      summary: 'Gives the attribute a shape or map  '
      description: "Each attribute can have one map or shape, or none at all\nCall this with no boundary to clear\nThe bounds of the type as a whole is a union of the attribute maps"
      operationId: core.design.set_attribute_location
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/test_attribute_location:
    get:
      summary: 'Allows testing and debugging of an attribute bounds  '
      description: "Tests the attribute bounds with geojson points and shapes, or other types and attributes\nif the type is marked as private or the attribute is marked as private,\n then that attribute is not testable except to the members of the owning namesapce. \n If using other attributes to test with, must be able to see that attribute. "
      operationId: core.design.test_attribute_location
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/edit_attribute:
    patch:
      summary: 'Edits the properites of an unpublished attribute  '
      description: "Owner admin group can set the following properties to an attribute: \nparent, boolean properties, merge methods, access, value policy, value rules, initial value"
      operationId: core.design.edit_attribute
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/create_listener:
    post:
      summary: 'Makes a new event listener for an attribute on the design '
      description: "Each attribute can have zero or one listeners. If replacing, then earlier must be destroyed. \nOwner admin group can create a listener on each attribute, as long as the type is not published \nIf inheriting from a parent, and that has a listener, then the listener must be for the same event type "
      operationId: core.design.create_listener
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/destroy_listener:
    delete:
      summary: 'Makes a new event listener for an attribute on the design '
      description: 'Owner admin group can can remove the event listener from the attribute, before publishing '
      operationId: core.design.destroy_listener
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/list_listeners:
    get:
      summary: 'Allows testing and debugging of an attribute bounds  '
      description: "Lists all the listeners, and the attributes that hold them, and the events listened \n To see the rules then use the show listener\n if the type is marked as private or the attribute is marked as private,\n then the listener is not shown except to the members of the owning namesapce"
      operationId: core.design.list_listeners
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/show_listener:
    get:
      summary: 'Shows information about a specific listener'
      description: "Shows the information about the listener, including the rules it uses \n This is only shown to the owning namespace members"
      operationId: core.design.show_listener
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/create_rule:
    post:
      summary: 'Creates a rule or rule tree attached to the root or existing rule '
      description: "Each listener can have a tree of rules with a single top root, but can have any number of branches or leaves \nOwner admin group can add a single rule, or a tree of rules, and that can be attached to the unoccupied root, or to a leaf "
      operationId: core.design.create_rule
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/destroy_rule:
    delete:
      summary: 'Removes a single rule and all its children '
      description: "The listener tree can be edited by deleting parts of it. \nOwner admin group can prune the tree by branches or leaves "
      operationId: core.design.destroy_rule
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/edit_rule:
    post:
      summary: 'Edits a single rule and all its children '
      description: "The listener tree can be edited by changing one rule and its children \n For existing rules can change the phase,path,rank,logic, merge method and filter \n Owner admin group edit each leaf or branches or the entire tree "
      operationId: core.design.edit_rule
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/test_listener:
    get:
      summary: 'Test a rule tree against  '
      description: "A listener can be tested against a simulated event \n The tester provides the set, element, event, as long as the namespace using this can see the set and/or element, can test "
      operationId: core.design.test_listener
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/remove_parent:
    delete:
      summary: 'Removes a parent'
      description: "The owner or admin group can remove one or more parents from a design using a path. \nThis can be removed regardless of the approval status \nParents need approval to use, but do not notify the inheritance chain of design changes when dropping that parent"
      operationId: core.design.remove_parent
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/add_parent:
    post:
      summary: 'Adds a parent'
      description: "The owner or admin group can add one or more published parents using a path.\n Regardless who owns it, the event of design_pending can block it from the inheritance chaing\n If a parent is declared retired or suspended before publishing, then this type cannot be published until that is changed\nParents need approval to use in the design, and later to publish, to look over any conflicts after the design allowed"
      operationId: core.design.add_parent
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/list_parents:
    get:
      summary: 'Lists the parents of a type  '
      description: "Lists the parents the type (published or any other state) uses. \nLists the status of each parent, both their own lifecycle and the approval status being used here\n If the type has public access, then any namespace can see this. Otherwise its members of the owning namespace "
      operationId: core.design.list_parents
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/list_live_rules:
    get:
      summary: 'Lists live rules for the type  '
      description: "Lists the live rules defined for this type. \n If the type has public access, then any namespace can see this. Otherwise its members of the owning namespace "
      operationId: core.design.list_live_rules
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/add_live_rule:
    post:
      summary: 'Adds a new live rule to the type before its published '
      description: 'Owner admin group can add live rules to be applied after the publishing and making sets out of this '
      operationId: core.design.add_live_rule
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/remove_live_rule:
    delete:
      summary: 'Removes a live rule '
      description: 'Owner admin group can remove a live rule before its published '
      operationId: core.design.remove_live_rule
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/test_location:
    get:
      summary: 'Tests the type schedule  '
      description: "Tests the bounds of the type with geo-json or given another type, element or set. \n If the type is marked as private,\n then only testable to the members of the owning namesapce. "
      operationId: core.design.test_location
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/test_time:
    get:
      summary: 'Tests the type schedule  '
      description: "Tests schedule of the type with any generated time string \n If the type is marked as private,\n then only testable to the members of the owning namesapce. "
      operationId: core.design.test_time
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/design/set_time:
    post:
      summary: 'Sets the schedule for the type  '
      description: "Sets a schedule for the type before publishing \n There is only one schedule, which can be overridden by this, or emptied out by using this with no data"
      operationId: core.design.set_time
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/change_owner:
    patch:
      summary: 'Change the element owner'
      description: 'Element owner can give ownership to another namespace at any time. Any number of elements can be included with a path '
      operationId: core.elements.change_owner
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/attribute_off:
    patch:
      summary: 'Turn off an attribute of elements'
      description: 'Element admin group turn off attributes of elements in sets given by a path '
      operationId: core.elements.attribute_off
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/attribute_on:
    patch:
      summary: 'Turn on an attribute of elements'
      description: 'Element admin group turn on attributes of elements in sets given by a path '
      operationId: core.elements.attribute_on
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/type_off:
    patch:
      summary: 'Turn off all the subtype attributes of elements'
      description: 'Element admin group turn off attributes in groups of subtype (parent types) in elements inside sets given by a path '
      operationId: core.elements.type_off
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/type_on:
    patch:
      summary: 'Turn on all the attributes of a parent type in elements'
      description: 'Element admin group turn on all parent type attributes. The types, elements and sets given by a path '
      operationId: core.elements.type_on
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/read_attribute:
    get:
      summary: 'Read the same attributes in one or more elements'
      description: "Can select the same attribute(s) in elements(s) to read, \n its up to the attribute access, the type access and the event handlers to decide who can "
      operationId: core.elements.read_attribute
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/write_attribute:
    patch:
      summary: 'Write json to the same attributes of one or more elements'
      description: 'Write one or more elements found in a path, that have the same attributes. If one can. '
      operationId: core.elements.write_attribute
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/write_visual:
    patch:
      summary: 'Write opacity|color|border|texture to the same attributes of one or more elements'
      description: "Admin groups changes visual rendering of opacity|color|border|texture for one or more elements found in a path, \n that have the same attributes. The system here does not render, so its up to the api clients to do something with the settings "
      operationId: core.elements.write_visual
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/read_visual:
    get:
      summary: 'Read the locations of one or more elements'
      description: "Can read pathed elements' geometry and maps due to design and live types \n its up to the attribute access, the type access and the event handlers to decide who can "
      operationId: core.elements.read_visual
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/read_time:
    get:
      summary: 'Read the locations of one or more elements'
      description: "Can read current or next time span of the element's type, its parents and applied live \n its up to the attribute access, the type access and the event handlers to decide who can "
      operationId: core.elements.read_time
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/add_live:
    post:
      summary: 'Add a live type to one or more elements'
      description: "If can read any attribute on a type, can add it as a live part to one or more elements in a search path.\n If not part of the element ns, can still add it if part of the type ns and event listeners allow  "
      operationId: core.elements.add_live
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/copy_live:
    post:
      summary: 'Copy a live type and its state to one or more elements'
      description: "If can read any attribute on both the source and destination type, can copy its and its state to a new element.\n If not part of the element ns, can still add it if part of the type ns and event listeners allow  "
      operationId: core.elements.copy_live
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/remove_live:
    delete:
      summary: 'Remove a live type from one or more elements'
      description: "If can read any attribute on the live type, can remove its and its state to a new element.\n If not part of the element ns, can still remove it if part of the type ns and event listeners allow  "
      operationId: core.elements.remove_live
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/ping:
    post:
      summary: 'Ping one or more elements to a set'
      description: 'Element ns can use that to ping elements to target sets.'
      operationId: core.elements.ping_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/create:
    post:
      summary: 'Creates one or more new elements from a type'
      description: 'Type admin can create one or more elements going to one or more namespaces. The namespace can reject. The inherited types can reject'
      operationId: core.elements.create_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/destroy:
    delete:
      summary: 'Destroys one or more elements'
      description: 'Element admin can destroy one or more elements, the type or parent types can reject this'
      operationId: core.elements.destroy_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/promote:
    post:
      summary: 'Creates one or more elements'
      description: 'System can make elements out of any types, not needing permissions. No events created when doing this'
      operationId: core.elements.promote_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/promote_edit:
    patch:
      summary: 'Changes owner or value of or phase of one or more elements'
      description: 'System can update elements not needing permissions. No events created when doing this'
      operationId: core.elements.promote_edit_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/purge:
    delete:
      summary: 'System Destroy one or more elements'
      description: 'System can destroy one or more elements without permission'
      operationId: core.elements.purge_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/link:
    post:
      summary: 'Makes a link between an element and a set'
      description: "Anyone can make a link from an element they administer to a target set, or sets. The element does not have to belong to the set \n The link can be assigned to another namespace, they can reject that. The linked set can reject the link"
      operationId: core.elements.link
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/unlink:
    delete:
      summary: 'Destroys one or more links'
      description: 'Link admin can remove one or more links they control'
      operationId: core.elements.unlink
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/list_links:
    get:
      summary: 'Shows a list of links'
      description: 'Link members can see all the links owned by namespaces they belong'
      operationId: core.elements.list_links
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/show_link:
    get:
      summary: 'Show a link'
      description: 'Link member can see information about a particular link'
      operationId: core.elements.show_link
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/show:
    get:
      summary: 'Shows the value and information about an element'
      description: 'Element members can see details about an element'
      operationId: core.elements.show_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/list:
    get:
      summary: 'Shows list of elements'
      description: 'Element members can see a list of all the elements of namespaces they belong'
      operationId: core.elements.list_elements
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/elements/show_public:
    get:
      summary: 'Shows public information about an element'
      description: 'Anyone can see public information about an element, attributes that are marked as public will show their data.'
      operationId: core.elements.show_public
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/show_namespace:
    get:
      summary: 'Shows a summary of the namespace'
      description: "Namespace members can run this to see the owner, the name, the count of admins, members, types, elements \n Will show a list of the first admins (not a complete list)"
      operationId: core.namespaces.show_namespace
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/show_namespace_public:
    get:
      summary: 'Shows a summary of the namespace'
      description: 'Anyone can run this to see some info about the namespace. Will only show public data'
      operationId: core.namespaces.show_namespace_public
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/list_namespaces:
    get:
      summary: 'Shows all the namespaces this caller is part of'
      description: 'Will show owned, admin and member status of all namespaces this caller is part of'
      operationId: core.namespaces.list_namespaces
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/edit_promotion:
    patch:
      summary: 'Allows the system to set namespace data'
      description: "System can set data in namespaces without events going off. \n can set new homesets, public and private elements, source server,name \n can change ownership"
      operationId: core.namespaces.edit_promotion
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/destroy_namespace:
    delete:
      summary: 'The owner can destroy a namespace'
      description: 'User can destroy any namespace they own except their default namespace '
      operationId: core.namespaces.destroy_namespace
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/create_namespace:
    post:
      summary: 'The user creates a new namespace with themself as the owner'
      description: "user make new namespace. \n can set new homesets, public and private elements, source server,name, user, other data "
      operationId: core.namespaces.create_namespace
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/promote_namespace:
    post:
      summary: 'Allows the system to make a new namespace'
      description: "System make new namespaces and assign anyone as the owner. \n can set new homesets, public and private elements, source server,name, user, other data "
      operationId: core.namespaces.promote_namespace
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/purge_namespace:
    delete:
      summary: 'Allows the system to destroy any namespace'
      description: 'System can destroy any namespaces without events going off '
      operationId: core.namespaces.purge_namespace
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/add_admin:
    post:
      summary: 'Add a new admin to the namespace'
      description: 'Owner can add a new administrator (who will also be a member) '
      operationId: core.namespaces.add_admin
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/list_admins:
    get:
      summary: 'Shows a list of all the admins from this namespace'
      description: 'Any member can use this to get a full list of all the admins (includes owner)'
      operationId: core.namespaces.list_admins
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/remove_admin:
    delete:
      summary: 'Remove admin privs from a member in the namespace'
      description: 'Owner can remove administrator (who will still be a member) '
      operationId: core.namespaces.remove_admin
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/purge_admin:
    delete:
      summary: 'System can remove admins from namespaces'
      description: 'System can remove any admin from any group without raising events (person is still member) '
      operationId: core.namespaces.purge_admin
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/promote_admin:
    post:
      summary: 'System can add admins to namespaces'
      description: 'System can add anyone to be admin in group without raising events '
      operationId: core.namespaces.promote_admin
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/add_member:
    post:
      summary: 'Add a member to the namespace'
      description: 'Admin can add any other namespace as a member'
      operationId: core.namespaces.add_member
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/remove_member:
    delete:
      summary: 'Remove member from the namespace'
      description: 'Admin can remove member who is not administrator '
      operationId: core.namespaces.remove_member
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/promote_member:
    post:
      summary: 'System can add members to namespaces'
      description: 'System can add any member from group without raising events '
      operationId: core.namespaces.promote_member
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/purge_member:
    delete:
      summary: 'System can remove members from namespaces'
      description: 'System can remove any member from any group without raising events '
      operationId: core.namespaces.purge_member
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/namespaces/list_members:
    get:
      summary: 'Shows a list of all the members from this namespace'
      description: 'Any member can use this to get a full list of all the members'
      operationId: core.namespaces.list_members
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/add_element:
    post:
      summary: 'Change the element owner'
      description: 'Element namespace members can put element into any set that allows that '
      operationId: core.sets.add_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/promote_element:
    post:
      summary: 'System can add elements to sets'
      description: 'System can add any element to any set without permission or events '
      operationId: core.sets.promote_member
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/create:
    post:
      summary: 'Create a set from element'
      description: 'Element namespace admins can create sets out of those elements. Inheritied types can deny. Sets can be created a children of other sets'
      operationId: core.sets.create_set
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/promote:
    post:
      summary: 'System can make sets'
      description: 'System can make sets from any element without permisision. No events '
      operationId: core.sets.promote_set
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/destroy:
    delete:
      summary: 'Destroys the set, keeps the element'
      description: 'Set owners can destroy their sets, bypassing the leave event, can be blocked by handlers on the type '
      operationId: core.sets.destroy_set
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/remove_element:
    delete:
      summary: 'Change the element owner'
      description: 'Element namespace members can put element into any set that allows that '
      operationId: core.sets.remove_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/empty_set:
    delete:
      summary: 'Removes all elements except sticky ones'
      description: 'Element namespace members can clear out sticky elements. Event handlers can block their elements from leaving '
      operationId: core.sets.empty_set
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/stick_element:
    patch:
      summary: 'Makes element sticky in set operations'
      description: 'Set namespace members can make sticky elements in those sets '
      operationId: core.sets.stick_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/unstick_element:
    patch:
      summary: 'Unsticks one or more elements in one or more sets'
      description: 'Set namespace members can unstick elements in those sets '
      operationId: core.sets.unstick_element
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/purge:
    delete:
      summary: 'System can delete any set'
      description: 'System can remove sets without events or permission '
      operationId: core.sets.purge_set
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/purge_member:
    delete:
      summary: 'System can remove set contents'
      description: 'System can remove elements without events from any set '
      operationId: core.sets.purge_member
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/show:
    get:
      summary: 'Gives information about a set'
      description: 'Shows information about a set to set members '
      operationId: core.sets.show_set
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/public:
    get:
      summary: 'Shows a public view of this set'
      description: 'Anyone can see public information '
      operationId: core.sets.show_public
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/list_children:
    get:
      summary: 'List child sets'
      description: 'Set namespace members can get a list of children sets '
      operationId: core.sets.list_children
      responses:
        '501':
          description: 'Not yet implemented'
  /api/v1/sets/list_elements:
    get:
      summary: 'list elements in a set'
      description: 'Set namespace members can get a list of set contents '
      operationId: core.sets.list_elements
      responses:
        '501':
          description: 'Not yet implemented'
components:
  schemas:
    hexbatch_uuid:
      title: 'Unique reference'
      description: 'Defines a regular uuid'
      type: string
      maxLength: 36
      minLength: 36
      pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'
      example:
        -
          summary: 'Should be unique across the world'
          value: 59714b32-a017-4300-afbc-f910886a2589
    CreateTokenResponse:
      description: 'Returns the token that is required other api calls'
      properties:
        auth_token:
          $ref: '#/components/schemas/hexbatch_token'
      type: object
    hexbatch_seconds_to_live:
      title: 'Seconds to live'
      description: 'When needing to give a length in seconds up to a year'
      type: integer
      format: int32
      maxLength: 31536000
      minLength: 1
      example:
        -
          summary: 'A lifetime of 6 months'
          value: '15768000'
    hexbatch_token:
      title: 'A token used to authenticate'
      description: 'Defines a regular uuid'
      type: string
      maxLength: 60
      minLength: 40
      example:
        -
          summary: 'Tokens look like this, but not always'
          value: 2|jY8m3acW2GdDZlgJOxX2hWCjlRJ6lcu4OA3q3XWcc4cbc545
    hexbatch_username:
      title: 'User Name'
      description: 'Defines a user name'
      type: string
      maxLength: 30
      minLength: 3
      pattern: '^\p{L}[\p{L}0-9_]{2,}$'
      example:
        -
          summary: 'No capital letters, no punctuation, underscores allowed, numbers allowed after first letter'
          value: my_first_user221
    LoginParams:
      description: 'Login requires a username and password'
      properties:
        username:
          $ref: '#/components/schemas/hexbatch_username'
        password:
          title: Password
          type: password
          example:
            -
              summary: 'password set up in the registration'
              value: beans_r_88good
      type: object
      example:
        -
          summary: 'logging in example'
          value:
            username: will
            password: xamp
        -
          summary: 'logging 2 in example'
          value:
            username: will2
            password: xamp22
    LoginResponse:
      description: 'Returns the token that is required other api calls'
      properties:
        message:
          title: Message
          type: string
        auth_token:
          $ref: '#/components/schemas/hexbatch_token'
      type: object
    Me:
      description: 'Show details about the logged-in user'
      properties:
        uuid:
          $ref: '#/components/schemas/hexbatch_uuid'
        username:
          title: 'User name'
          type: string
        registered_at:
          title: 'When the user was registered'
          type: string
          format: date-time
      type: object
    RegistrationParams:
      description: 'Login requires a username and password'
      properties:
        username:
          $ref: '#/components/schemas/hexbatch_username'
        password:
          title: Password
          type: password
          example:
            -
              summary: 'password set up in the registration'
              value: beans_r_88good
      type: object
      example:
        -
          summary: 'Registration Example'
          value:
            username: will
            password: xamp
